# TaskRails 使用手冊與新專案設定指南 (User Guide)

> **版本**: v1.1
> **最後更新**: 2026-01-05

## 1. 核心概念 (Core Concepts)

TaskRails 不僅是任務看板，它是您與 AI Agent 之間的「防火牆」與「導航員」。透過以下機制提升開發效率：

1. **角色分工 (Persona)**：Coder (開發), Reviewer (審查), Architect (架構)。
2. **記憶重置 (Hard Reset)**：切換角色時清空 AI 上下文，防止 AI 迷路。
3. **氣閘機制 (Airlock)**：關鍵代碼變更前的強制審核流程。

---

## 2. 快速上手：設定新專案 (Project Setup)

### 2.1 描述想法

在 **Project Setup Hub** 中，您只需要一句話描述您的想法，例如：「我想做一個記帳 App」。

### 2.2 回答 AI 追問

AI 會主動追問必要細節：

- 「目標平台是什麼？」
- 「主要功能有哪些？」
- 「偏好什麼技術棧？」

### 2.3 一鍵分發 (Deploy to All)

當進度條達到 100% 且按鈕變綠時，點擊即可自動生成：

- **📋 Spec**：專案說明書。
- **🤖 Agents**：專注於該技術棧的 AI 助手。
- **📅 Plan**：系統架構圖與資料流。
- **📌 Tasks**：拆解後的原子任務。

---

## 3. 介面操作指南 (Interface Tour)

### 3.1 角色切換 (Alt+1/2/3)

- **🔨 Coder (Alt+1)**：工業橘。執行力強，負責寫代碼。
- **🛡️ Reviewer (Alt+2)**：警示紅。嚴格審查，唯讀模式。
- **📐 Architect (Alt+3)**：藍圖藍。宏觀規劃。

### 3.2 任務看板 (Mission Control)

- **To-Do**：規劃中的任務。
- **Doing**：進行中。AI 會自動獲取此任務的上下文。
- **Done**：已完成。

### 3.3 狀態監控 (Widgets)

- **Token Usage**：監控對話長度，避免 AI 變得遲鈍。
- **MCP Status**：確認與 IDE (Cursor/Antigravity) 的連線狀態。

---

## 4. IDE 連接設定 (Integration)

TaskRails 透過 **Model Context Protocol (MCP)** 運作。

### 4.1 連接 Cursor / VS Code (Stdio)

1. 在 IDE 設定中尋找 **MCP Servers**。
2. 新增 Server:
   - **Command**: `taskrails`
   - **Args**: `mcp-stdio`

### 4.2 連接 Google Antigravity

**方法 A: Stdio 模式 (推薦)**
在 `mcp_config.json` 加入：

```json
"taskrails": {
  "command": "C:\\Path\\To\\taskrails.exe",
  "args": ["mcp-stdio"]
}
```

---

## 5. 常見問題 (FAQ)

- **Q: 為什麼分發按鈕是灰色的？**
  - A: 必填項目（名稱、目標、技術、功能）尚未完整，請回答 AI 的追問。
- **Q: 如何導出上下文到 IDE？**
  - A: 在 Agent Lab 點擊 「Transfer to IDE」，系統會將當前分析寫入 `.taskrails/memory-bank/@active_context.md`。

---

_© 2026 TaskRails. MIT License. Generated by Antigravity Agent._
