<!DOCTYPE html>
<html lang="zh-Hant"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>TaskRails 定義代理視窗</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
<link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&amp;family=Roboto+Mono:wght@400;500&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&amp;display=swap" rel="stylesheet"/>
<script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#E88225", // Extracted from the logo
                        "primary-hover": "#d1731c",
                        "background-light": "#F3F4F6",
                        "background-dark": "#0D0D0F", // Deep dark industrial background
                        "surface-dark": "#16161A", // Slightly lighter for panels
                        "surface-light": "#FFFFFF",
                        "border-dark": "#2D2D35",
                        "border-light": "#E5E7EB",
                        "accent-dark": "#23232A",
                    },
                    fontFamily: {
                        display: ['"Rajdhani"', '"Noto Sans TC"', 'sans-serif'],
                        mono: ['"Roboto Mono"', 'monospace'],
                    },
                    borderRadius: {
                        DEFAULT: "2px", // Industrial feel usually has sharper corners or slight rounding
                        "lg": "4px",
                    },
                    boxShadow: {
                        'neon': '0 0 5px rgba(232, 130, 37, 0.2), 0 0 20px rgba(232, 130, 37, 0.1)',
                    }
                },
            },
        };
    </script>
<style>
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #16161A; 
        }
        .light ::-webkit-scrollbar-track {
            background: #F3F4F6;
        }
        ::-webkit-scrollbar-thumb {
            background: #2D2D35; 
            border-radius: 2px;
        }
        .light ::-webkit-scrollbar-thumb {
            background: #D1D5DB;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #E88225; 
        }
        .scanlines {
            background: linear-gradient(
                to bottom,
                rgba(255,255,255,0),
                rgba(255,255,255,0) 50%,
                rgba(0,0,0,0.05) 50%,
                rgba(0,0,0,0.05)
            );
            background-size: 100% 4px;
            pointer-events: none;
        }
        .switch-checkbox:checked {
            right: 2px;
        }
        .workflow-canvas {
            background-image:
                linear-gradient(rgba(45, 45, 53, 0.5) 1px, transparent 1px),
                linear-gradient(90deg, rgba(45, 45, 53, 0.5) 1px, transparent 1px);
            background-size: 20px 20px;
            background-position: -1px -1px;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-gray-800 dark:text-gray-300 font-display h-screen flex flex-col overflow-hidden selection:bg-primary selection:text-white transition-colors duration-300 dark">
<header class="h-14 bg-surface-light dark:bg-surface-dark border-b border-border-light dark:border-border-dark flex items-center justify-between px-4 select-none z-20 shrink-0 shadow-sm relative">
<div class="flex items-center gap-3">
<div class="flex items-center justify-center w-8 h-8 rounded bg-primary/10 dark:bg-primary/20 p-1 border border-primary/20">
<img alt="TaskRails Hex Logo" class="w-full h-full object-contain" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBu91QSLhIct85EYeT2HlIQup9LM8BveqYFIRZdd-rGb5ROhVv3-4pQ0LrD_kBHr4puYSYneSo72Fgr-iHn-LPZk_-CwAbRN_vy2cnD4WKwK7xVox8VVGbjufyrpR4x8NYRHFRh0pY2OegGIngLngfPrLjy9nWUQRpReFNdcJA8Nq-LH0jOhef_xvjHAh7vvn5PTfXrhoTWqjzUZdFOs-3VPDeI-SNi7W_0gzlIqpap8t_Wf_oBxGvTlLUQ-2R3Lar5TdN6vA4BoA0P"/>
</div>
<div class="hidden md:block h-6 opacity-90 dark:opacity-100">
<img alt="TaskRails Text Logo" class="h-full object-contain filter dark:brightness-100 invert" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDycyho-zSFp_M7jgg2QVQ05g5Sw6HcEddMlxBNi2yH9SDzsumy_QzIp3MP5AXU8uxgItnJ_jBzLdufBaGwqjl9Qs411D6zFHtnZSWIi7vaic9shHkVhO8as4s08fKcIZdZddve_kOVzfjhzSUxGfIYvmu429_8ihNBwpMAxDmdxMAQW3xRBzi2CMKg9CoGHqS8mtRdz9a-xy7JrklDasLpXgWYf3OhIZp_MsgLtolqOz0-qm9SjRI37kfdBHA0HIhmdddjstYD9o-r"/>
</div>
<div class="hidden lg:flex items-center ml-6 text-sm font-mono text-gray-400 dark:text-gray-500 border-l border-border-light dark:border-border-dark pl-4 h-6">
<span class="text-xs uppercase tracking-widest mr-2">情境:</span>
<span class="text-primary font-bold">PROJECT_OMEGA</span>
<span class="mx-2">/</span>
<span>SPRINT_24</span>
</div>
</div>
<div class="flex-1 max-w-lg mx-4 hidden md:block group">
<div class="relative">
<span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400 group-focus-within:text-primary transition-colors">
<span class="material-icons-outlined text-lg">search</span>
</span>
<input class="w-full bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-sm rounded py-1.5 pl-10 pr-20 focus:ring-1 focus:ring-primary focus:border-primary placeholder-gray-500 dark:placeholder-gray-600 font-mono transition-all dark:text-gray-200" placeholder="搜尋或輸入指令..." type="text"/>
<div class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
<span class="text-xs text-gray-400 border border-gray-300 dark:border-gray-700 rounded px-1.5 py-0.5 font-mono">CTRL+K</span>
</div>
</div>
</div>
<div class="flex items-center gap-3">
<button class="p-2 rounded hover:bg-gray-200 dark:hover:bg-accent-dark text-gray-500 dark:text-gray-400 transition-colors" onclick="document.body.classList.toggle('dark')" title="切換主題">
<span class="material-icons-outlined text-[20px]">light_mode</span>
</button>
<button class="relative p-2 rounded hover:bg-gray-200 dark:hover:bg-accent-dark text-gray-500 dark:text-gray-400 transition-colors">
<span class="material-icons-outlined text-[20px]">notifications</span>
<span class="absolute top-2 right-2 w-2 h-2 bg-primary rounded-full animate-pulse"></span>
</button>
</div>
<div class="absolute bottom-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-primary/50 to-transparent"></div>
</header>
<div class="flex flex-1 overflow-hidden relative">
<aside class="w-64 bg-surface-light dark:bg-surface-dark border-r border-border-light dark:border-border-dark flex flex-col shrink-0 transition-all duration-300 z-10">
<div class="grid grid-cols-3 border-b border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark">
<button class="relative py-3 flex flex-col items-center justify-center gap-1 group">
<span class="material-icons-outlined text-lg text-primary">hub</span>
<span class="text-[10px] font-mono font-bold text-primary tracking-widest">指令</span>
<span class="absolute bottom-0 left-0 w-full h-[2px] bg-primary shadow-[0_0_8px_rgba(232,130,37,0.8)]"></span>
<span class="absolute inset-0 bg-primary/5 opacity-100"></span>
</button>
<button class="relative py-3 flex flex-col items-center justify-center gap-1 group hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
<span class="material-icons-outlined text-lg text-gray-400 group-hover:text-gray-200 transition-colors">terminal</span>
<span class="text-[10px] font-mono font-medium text-gray-500 dark:text-gray-500 group-hover:text-gray-300 tracking-widest transition-colors">開發</span>
<span class="absolute bottom-0 left-0 w-full h-[2px] bg-transparent group-hover:bg-gray-600 transition-all"></span>
</button>
<button class="relative py-3 flex flex-col items-center justify-center gap-1 group hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
<span class="material-icons-outlined text-lg text-gray-400 group-hover:text-gray-200 transition-colors">analytics</span>
<span class="text-[10px] font-mono font-medium text-gray-500 dark:text-gray-500 group-hover:text-gray-300 tracking-widest transition-colors">維運</span>
<span class="absolute bottom-0 left-0 w-full h-[2px] bg-transparent group-hover:bg-gray-600 transition-all"></span>
</button>
</div>
<nav class="flex-1 overflow-y-auto py-4 space-y-1 px-2 font-mono text-sm">
<div class="px-2 mb-2 text-xs font-bold text-gray-400 uppercase tracking-widest flex items-center justify-between">
<span>主面板</span>
<span class="w-2 h-2 bg-green-500 rounded-full shadow-[0_0_5px_rgba(34,197,94,0.6)]"></span>
</div>
<a class="flex items-center gap-3 px-3 py-2 rounded bg-primary/10 text-primary dark:text-primary border-l-2 border-primary group" href="#">
<span class="material-icons-outlined">dashboard</span>
<span class="font-medium tracking-wide">儀表板</span>
</a>
<a class="flex items-center gap-3 px-3 py-2 rounded text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-accent-dark hover:text-gray-900 dark:hover:text-gray-200 border-l-2 border-transparent transition-all group" href="#">
<span class="material-icons-outlined group-hover:text-primary transition-colors">view_kanban</span>
<span>看板</span>
<span class="ml-auto text-xs bg-gray-200 dark:bg-gray-800 px-1.5 py-0.5 rounded text-gray-500">4</span>
</a>
</nav>
<div class="border-t border-border-light dark:border-border-dark bg-gray-50 dark:bg-[#111115] shrink-0 mt-auto">
<div class="px-3 py-3 mt-1 border-t border-border-light dark:border-border-dark flex items-center gap-3 hover:bg-gray-200 dark:hover:bg-accent-dark cursor-pointer transition-colors group">
<div class="w-9 h-9 rounded bg-gray-300 dark:bg-gray-700 overflow-hidden border border-gray-300 dark:border-gray-600 group-hover:border-primary/50 transition-colors shrink-0">
<img alt="User Avatar" class="w-full h-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuA_6qonrR123odKuswNUYavaNtPhTtJiW2nlowlZqlIrV6oAOovPxuV_rt9XsktyaW0ldf88BSCc_zDMn3ot--9o5EPIXn6E0LCU14fCKfbSPt1aiJoweQ2OWxa5EJxoMvh2yZY9IxTs8bgBLTut2xORLY9_vFt0apRH6_VWEVgS2j1bYMiXCsLqTFcDpd4k3XN7En3UMJCHdVgD-6ExoXTjWu4DGMDnoLLv3hL3Ce1ipDOeq6CAtNwUo063NCPrayX1Ej_nszWKUW1"/>
</div>
<div class="flex-1 min-w-0">
<div class="text-xs font-bold text-gray-800 dark:text-gray-200 truncate font-display tracking-wide group-hover:text-primary transition-colors">ALEX_CHEN</div>
<div class="text-[10px] text-gray-500 uppercase tracking-wider truncate font-mono">系統管理員</div>
</div>
<button class="text-gray-400 group-hover:text-primary transition-colors p-1">
<span class="material-icons-outlined text-lg">settings</span>
</button>
</div>
</div>
</aside>
<main class="flex-1 flex flex-col relative overflow-hidden bg-background-light dark:bg-background-dark">
<div class="absolute inset-0 z-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05]" style="background-image: linear-gradient(#999 1px, transparent 1px), linear-gradient(90deg, #999 1px, transparent 1px); background-size: 40px 40px;">
</div>
</main>
</div>
<div class="fixed inset-0 bg-black/70 backdrop-blur-sm z-40 flex items-center justify-center p-4" id="modal-backdrop">
<div class="w-full max-w-6xl h-[90vh] bg-surface-dark border border-border-dark rounded-lg shadow-2xl flex flex-col relative overflow-hidden">
<div class="absolute top-0 left-0 w-full h-[2px] bg-gradient-to-r from-transparent via-primary/80 to-transparent"></div>
<div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-1/3 h-[1px] bg-gradient-to-r from-transparent via-primary/50 to-transparent"></div>
<header class="flex items-center justify-between p-4 border-b border-border-dark shrink-0">
<div class="flex items-center gap-3">
<span class="material-icons-outlined text-primary text-xl">hub</span>
<h2 class="text-lg font-bold tracking-wider uppercase text-gray-100">定義代理</h2>
</div>
<button class="p-1 rounded-full text-gray-500 hover:text-white hover:bg-accent-dark transition-colors">
<span class="material-icons-outlined">close</span>
</button>
</header>
<div class="flex-1 flex overflow-hidden">
<div class="w-1/3 min-w-[380px] bg-background-dark border-r border-border-dark flex flex-col">
<div class="p-6 space-y-6 overflow-y-auto">
<h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest border-b border-border-dark pb-2">// 代理基本設定</h3>
<div>
<label class="block text-xs font-mono text-gray-400 mb-1.5" for="agent-name">代理名稱</label>
<input class="w-full bg-accent-dark border border-border-dark text-sm rounded py-2 px-3 focus:ring-1 focus:ring-primary focus:border-primary placeholder-gray-600 font-mono text-gray-200 transition-all" id="agent-name" placeholder="例如：Code_Generator_Agent_01" type="text"/>
</div>
<div>
<label class="block text-xs font-mono text-gray-400 mb-1.5" for="agent-persona">代理人設</label>
<select class="w-full bg-accent-dark border border-border-dark text-sm rounded py-2 px-3 focus:ring-1 focus:ring-primary focus:border-primary font-mono text-gray-200 transition-all" id="agent-persona">
<option>選擇預設人設模板...</option>
<option>資深軟體工程師</option>
<option>嚴謹的品保測試員</option>
<option>專案經理</option>
<option value="custom">自定義...</option>
</select>
<textarea class="hidden mt-2 w-full bg-accent-dark border border-border-dark text-sm rounded py-2 px-3 focus:ring-1 focus:ring-primary focus:border-primary placeholder-gray-600 font-mono text-gray-400 transition-all h-24" id="custom-persona" placeholder="// 在此輸入自定義人設..."></textarea>
</div>
<div>
<label class="block text-xs font-mono text-gray-400 mb-1.5" for="default-task">預設工作</label>
<select class="w-full bg-accent-dark border border-border-dark text-sm rounded py-2 px-3 focus:ring-1 focus:ring-primary focus:border-primary font-mono text-gray-200 transition-all" id="default-task">
<option>選擇預設工作類型...</option>
<option>程式碼生成</option>
<option>程式碼審核</option>
<option>UI/UX 設計</option>
<option>自動化測試</option>
</select>
</div>
<div class="flex items-center justify-between pt-2">
<label class="text-xs font-mono text-gray-400" for="agent-status">狀態</label>
<label class="flex items-center cursor-pointer" for="agent-status">
<div class="relative">
<input class="sr-only peer" id="agent-status" type="checkbox"/>
<div class="w-11 h-6 bg-accent-dark rounded-full border border-border-dark peer-checked:bg-primary/50 peer-checked:border-primary"></div>
<div class="absolute left-1 top-1 bg-gray-500 peer-checked:bg-primary w-4 h-4 rounded-full transition-transform peer-checked:translate-x-full"></div>
</div>
<span class="ml-3 text-sm font-medium text-gray-300 peer-checked:text-primary">啟用</span>
</label>
</div>
<div class="pt-2">
<h4 class="text-xs font-mono text-gray-400 mb-2">資源分配</h4>
<div class="grid grid-cols-2 gap-4">
<div>
<label class="block text-xs font-mono text-gray-500 mb-1" for="token-limit">Token 限制</label>
<input class="w-full bg-accent-dark border border-border-dark text-sm rounded py-2 px-3 focus:ring-1 focus:ring-primary focus:border-primary font-mono text-gray-200 transition-all" id="token-limit" type="number" value="4096"/>
</div>
<div>
<label class="block text-xs font-mono text-gray-500 mb-1" for="parallel-tasks">並行任務數</label>
<input class="w-full bg-accent-dark border border-border-dark text-sm rounded py-2 px-3 focus:ring-1 focus:ring-primary focus:border-primary font-mono text-gray-200 transition-all" id="parallel-tasks" type="number" value="2"/>
</div>
</div>
</div>
</div>
</div>
<div class="flex-1 flex flex-col bg-surface-dark overflow-hidden relative">
<div class="p-4 border-b border-border-dark">
<h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest">// 工作流編輯器</h3>
</div>
<div class="flex-1 relative workflow-canvas p-6">
<div class="absolute top-10 left-16 cursor-pointer group">
<div class="w-48 bg-accent-dark border-2 border-primary rounded shadow-lg p-3 transition-all group-hover:shadow-neon">
<div class="flex items-center justify-between">
<h4 class="font-bold text-sm text-gray-200">程式碼生成</h4>
<span class="material-icons-outlined text-primary text-lg">code</span>
</div>
<p class="text-xs text-gray-400 mt-1 font-mono">語言: Python</p>
</div>
<div class="absolute -right-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-gray-600 border-2 border-gray-400 rounded-full hover:bg-primary"></div>
</div>
<div class="absolute top-40 left-80 cursor-pointer group">
<div class="w-48 bg-accent-dark border border-border-dark rounded p-3 transition-all group-hover:border-primary group-hover:shadow-neon">
<div class="flex items-center justify-between">
<h4 class="font-bold text-sm text-gray-200">測試</h4>
<span class="material-icons-outlined text-gray-400 text-lg group-hover:text-primary">bug_report</span>
</div>
<p class="text-xs text-gray-400 mt-1 font-mono">單元測試</p>
</div>
<div class="absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-gray-600 border-2 border-gray-400 rounded-full hover:bg-primary"></div>
<div class="absolute -right-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-gray-600 border-2 border-gray-400 rounded-full hover:bg-primary"></div>
</div>
<div class="absolute top-10 left-[38rem] cursor-pointer group">
<div class="w-48 bg-accent-dark border border-border-dark rounded p-3 transition-all group-hover:border-primary group-hover:shadow-neon">
<div class="flex items-center justify-between">
<h4 class="font-bold text-sm text-gray-200">審核</h4>
<span class="material-icons-outlined text-gray-400 text-lg group-hover:text-primary">rule</span>
</div>
<p class="text-xs text-gray-400 mt-1 font-mono">嚴格度: 高</p>
</div>
<div class="absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-gray-600 border-2 border-gray-400 rounded-full hover:bg-primary"></div>
<div class="absolute -right-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-gray-600 border-2 border-gray-400 rounded-full hover:bg-primary"></div>
</div>
<div class="absolute top-40 left-[56rem] cursor-pointer group">
<div class="w-48 bg-accent-dark border border-border-dark rounded p-3 transition-all group-hover:border-primary group-hover:shadow-neon">
<div class="flex items-center justify-between">
<h4 class="font-bold text-sm text-gray-200">部署</h4>
<span class="material-icons-outlined text-gray-400 text-lg group-hover:text-primary">rocket_launch</span>
</div>
<p class="text-xs text-gray-400 mt-1 font-mono">目標: Staging</p>
</div>
<div class="absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-gray-600 border-2 border-gray-400 rounded-full hover:bg-primary"></div>
</div>
<svg class="absolute inset-0 w-full h-full pointer-events-none" xmlns="http://www.w3.org/2000/svg">
<defs>
<marker id="arrow" markerHeight="6" markerWidth="6" orient="auto-start-reverse" refX="8" refY="5" viewBox="0 0 10 10">
<path d="M 0 0 L 10 5 L 0 10 z" fill="#E88225"></path>
</marker>
</defs>
<path d="M 260 68 C 320 68, 320 188, 372 188" fill="none" marker-end="url(#arrow)" stroke="#E88225" stroke-dasharray="4 4" stroke-width="2"></path>
<path d="M 564 188 C 624 188, 624 68, 668 68" fill="none" stroke="#888" stroke-width="2"></path>
<path d="M 852 68 C 912 68, 912 188, 956 188" fill="none" stroke="#888" stroke-width="2"></path>
</svg>
<div class="absolute bottom-4 right-4 text-xs font-mono text-gray-600">拖曳節點以建立工作流</div>
</div>
</div>
</div>
<footer class="flex items-center justify-end p-4 border-t border-border-dark shrink-0 bg-background-dark/50 gap-4">
<button class="px-4 py-2 bg-accent-dark border border-border-dark text-gray-300 text-sm font-medium hover:bg-[#2A2A35] hover:border-gray-600 transition-colors rounded">取消</button>
<button class="flex items-center gap-2 px-4 py-2 bg-primary text-white text-sm font-bold tracking-wide hover:bg-primary-hover transition-all shadow-neon rounded uppercase">
<span class="material-icons-outlined text-sm">save</span>
            保存代理
        </button>
</footer>
</div>
</div>
<div class="fixed inset-0 pointer-events-none z-[100] opacity-50 scanlines mix-blend-overlay"></div>
<script>
    // Simple script to toggle custom persona textarea
    const personaSelect = document.getElementById('agent-persona');
    const customPersonaTextarea = document.getElementById('custom-persona');
    if(personaSelect && customPersonaTextarea) {
        personaSelect.addEventListener('change', () => {
            if (personaSelect.value === 'custom') {
                customPersonaTextarea.classList.remove('hidden');
            } else {
                customPersonaTextarea.classList.add('hidden');
            }
        });
    }
</script>
</body></html>